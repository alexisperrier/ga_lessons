---
layout: slide
title: Lesson 15 - Time Series
description: none
transition: slide
permalink: /15-time-series.html
theme: ga
---

# Previous

# Today

# Time series

A time series is a series of data points listed (or graphed) in time order. Most commonly, a time series is a sequence taken at successive equally spaced points in time. Thus it is a sequence of discrete-time data. Examples of time series are heights of ocean tides, counts of sunspots, and the daily closing value of the Dow Jones Industrial Average.

Time series are used in statistics, signal processing, pattern recognition, econometrics, mathematical finance, weather forecasting, intelligent transport and trajectory forecasting,[1] earthquake prediction, electroencephalography, control engineering, astronomy, communications engineering, and largely in any domain of applied science and engineering which involves temporal measurements.

# TS

* Market
* IoT
* Economics

* Forecasting
* signal detection and estimation
* Detection of a change in the parameters of a static or dynamic system

### Time vs Frequency


# Smoothing - Rolling mean - Moving Average
http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.rolling_mean.html

=> get some data and  plot with and without Moving Average

# Exponential weighted moving average

Introduce a Decay

To compute this value, suppose, we have value v_1, ..., v_N, and we want to compute a lag k average at time T. To start, we fix a decay value \alpha. Then, we recursively compute the exponential weighted moving average.

Start with: M_0 = v_(T-k) Then: M__i = (1-\alpha) * M_(i-1) + v_(T - k + 1) Finishing with: M = M_T = (1-\alpha) * M_(T-1) + v_T

http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.ewma.html

# Auto Correlation
how correlated a variable is with itself
Just as correlation measures the extent of a linear relationship between two variables, autocorrelation measures the linear relationship between lagged values of a time series.

pandas autocorrelation_plot() function

# White noise
White noise
Time series that show no autocorrelation are called "white noise". Figure 2.11 gives an example of a white noise series.

# Resampling
http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html

# Statsmodels
http://statsmodels.sourceforge.net/stable/tsa.html

# Properties: Stationarity

# Properties: Seasonality

# Dickey Fuller test

# Transformations
https://www.otexts.org/fpp/2/4

* Mathematical: Box plot
* Calendar Adjustments
    monthly milk production on a farm,

* Population adjustments
    per 1000
    you remove the effect of population changes by considering number of beds per thousand people
* Inflation adjustments
        for money related series
         a price index is used. If ztzt denotes the price index and ytyt denotes the original house price in year tt, then xt=yt/zt∗z2000xt=yt/zt∗z2000 gives the adjusted house price at year 2000 dollar values. Price indexes are often constructed by government agencies. For consumer goods, a common price index is the Consumer Price Index (or CPI).



# Random walk

<!-- Part II: Modeling -->
# Naive Method
Naïve method
This method is only appropriate for time series data. All forecasts are simply set to be the value of the last observation. That is, the forecasts of all future values are set to be yTyT, where yTyT is the last observed value. This method works remarkably well for many economic and financial time series.

# Drift method
Drift method
A variation on the naïve method is to allow the forecasts to increase or decrease over time, where the amount of change over time (called the drift) is set to be the average change seen in the historical data. So the forecast for time T+hT+h is given by

yT+hT−1∑t=2T(yt−yt−1)=yT+h(yT−y1T−1).
yT+hT−1∑t=2T(yt−yt−1)=yT+h(yT−y1T−1).
This is equivalent to drawing a line between the first and last observation, and extrapolating it into the future.

# AR
# MA
# ARMA
# ARIMA

# De treding
# De seasonality
# Predicting
# Cross validation

Training and tests sets
# Forecast accuracy
https://www.otexts.org/fpp/2/5

Mean absolute error: MAERoot mean squared error: RMSE=mean(|ei|),=mean(e2i)‾‾‾‾‾‾‾‾‾√.
Mean absolute error: MAE=mean(|ei|),Root mean squared error: RMSE=mean(ei2).

Mean absolute percentage error: MAPE
sMAPE
MASE

# one-step forecasts may not be as relevant as multi-step forecasts

# Residuals
https://www.otexts.org/fpp/2/6
A good forecasting method will yield residuals with the following properties:

The residuals are uncorrelated. If there are correlations between residuals, then there is information left in the residuals which should be used in computing forecasts.
The residuals have zero mean. If the residuals have a mean other than zero, then the forecasts are biased.

In addition to these essential properties, it is useful (but not necessary) for the residuals to also have the following two properties.

The residuals have constant variance.
The residuals are normally distributed.

Histograms of residuals
QQ plots
ACF of the residuals
Box-Pierce test
Ljung-Box

# Prediction intervals
https://www.otexts.org/fpp/2/7


# Links

* [fecon235 : Computational data tools for financial economics](https://github.com/rsvp/fecon235)
* [Seasonal ARIMA with Python](http://www.seanabu.com/2016/03/22/time-series-seasonal-ARIMA-model-in-python/)
* [Complete guide to create a Time Series Forecast ](https://www.analyticsvidhya.com/blog/2016/02/time-series-forecasting-codes-python/)
* [A Complete Tutorial on Time Series Modeling in R](https://www.analyticsvidhya.com/blog/2015/12/complete-tutorial-time-series-modeling/)
* [A Simple Time Series Analysis Of The S&P 500 Index](http://www.johnwittenauer.net/a-simple-time-series-analysis-of-the-sp-500-index/)
* [Identifying the order of differencing in an ARIMA model](http://people.duke.edu/~rnau/411arim2.htm)